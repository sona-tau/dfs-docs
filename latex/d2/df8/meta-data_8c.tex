\doxysection{src/meta-\/data.c File Reference}
\hypertarget{meta-data_8c}{}\label{meta-data_8c}\index{src/meta-\/data.c@{src/meta-\/data.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include "{}lib/enchufe.\+h"{}}\newline
{\ttfamily \#include "{}lib/inode.\+h"{}}\newline
{\ttfamily \#include "{}lib/dnode.\+h"{}}\newline
{\ttfamily \#include "{}lib/block.\+h"{}}\newline
{\ttfamily \#include "{}lib/log.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{meta-data_8c_a8b5839f71a3b6e7d64b2d5e9967e3dd1}{BUF\+\_\+\+LEN}}~0x1000
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{meta-data_8c_aa3378869536d06200562338964a155d8}{add}} (\mbox{\hyperlink{structDNode}{DNode}} node)
\item 
void \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}} (\mbox{\hyperlink{structEnchufe}{Enchufe}} cliente)
\item 
void \mbox{\hyperlink{meta-data_8c_aabbe41694059424e83f0a139fa7a6e3c}{reg}} (\mbox{\hyperlink{unionIPv4}{IPv4}} address, \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}} port)
\begin{DoxyCompactList}\small\item\em Registers a data node. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{meta-data_8c_a031f559c7c9f21572ac4c56fdc51bf93}{put}} (\mbox{\hyperlink{structEnchufe}{Enchufe}} cliente, size\+\_\+t fsize, \mbox{\hyperlink{structSafeStr}{Safe\+Str}} fname)
\begin{DoxyCompactList}\small\item\em Puts file data on the server. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{meta-data_8c_a627ccb887dd92e262615f15c0dc4d235}{get}} (\mbox{\hyperlink{structEnchufe}{Enchufe}} cliente, \mbox{\hyperlink{structSafeStr}{Safe\+Str}} fname)
\begin{DoxyCompactList}\small\item\em Get file data from server. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{meta-data_8c_a57c0bcf2c2c654fb3424ce1265765f59}{handler}} (\mbox{\hyperlink{structEnchufe}{Enchufe}} enchufe)
\begin{DoxyCompactList}\small\item\em Handles the connections when they come in. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{meta-data_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}argv)
\begin{DoxyCompactList}\small\item\em This is the main metadata server. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{meta-data_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{meta-data_8c_a8b5839f71a3b6e7d64b2d5e9967e3dd1}\index{meta-\/data.c@{meta-\/data.c}!BUF\_LEN@{BUF\_LEN}}
\index{BUF\_LEN@{BUF\_LEN}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{BUF\_LEN}{BUF\_LEN}}
{\footnotesize\ttfamily \label{meta-data_8c_a8b5839f71a3b6e7d64b2d5e9967e3dd1} 
\#define BUF\+\_\+\+LEN~0x1000}



\label{doc-func-members}
\Hypertarget{meta-data_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{meta-data_8c_aa3378869536d06200562338964a155d8}\index{meta-\/data.c@{meta-\/data.c}!add@{add}}
\index{add@{add}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily \label{meta-data_8c_aa3378869536d06200562338964a155d8} 
void add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structDNode}{DNode}}}]{node}{}\end{DoxyParamCaption})}

\Hypertarget{meta-data_8c_a627ccb887dd92e262615f15c0dc4d235}\index{meta-\/data.c@{meta-\/data.c}!get@{get}}
\index{get@{get}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily \label{meta-data_8c_a627ccb887dd92e262615f15c0dc4d235} 
void get (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structEnchufe}{Enchufe}}}]{cliente}{, }\item[{\mbox{\hyperlink{structSafeStr}{Safe\+Str}}}]{fname}{}\end{DoxyParamCaption})}



Get file data from server. 

\Hypertarget{meta-data_8c_a57c0bcf2c2c654fb3424ce1265765f59}\index{meta-\/data.c@{meta-\/data.c}!handler@{handler}}
\index{handler@{handler}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{handler()}{handler()}}
{\footnotesize\ttfamily \label{meta-data_8c_a57c0bcf2c2c654fb3424ce1265765f59} 
bool handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structEnchufe}{Enchufe}}}]{enchufe}{}\end{DoxyParamCaption})}



Handles the connections when they come in. 

\Hypertarget{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}\index{meta-\/data.c@{meta-\/data.c}!list@{list}}
\index{list@{list}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{list()}{list()}}
{\footnotesize\ttfamily \label{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9} 
void list (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structEnchufe}{Enchufe}}}]{cliente}{}\end{DoxyParamCaption})}

\Hypertarget{meta-data_8c_a3c04138a5bfe5d72780bb7e82a18e627}\index{meta-\/data.c@{meta-\/data.c}!main@{main}}
\index{main@{main}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{meta-data_8c_a3c04138a5bfe5d72780bb7e82a18e627} 
int main (\begin{DoxyParamCaption}\item[{int}]{argc}{, }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{argv}{}\end{DoxyParamCaption})}



This is the main metadata server. 

\Hypertarget{meta-data_8c_a031f559c7c9f21572ac4c56fdc51bf93}\index{meta-\/data.c@{meta-\/data.c}!put@{put}}
\index{put@{put}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{put()}{put()}}
{\footnotesize\ttfamily \label{meta-data_8c_a031f559c7c9f21572ac4c56fdc51bf93} 
void put (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structEnchufe}{Enchufe}}}]{cliente}{, }\item[{size\+\_\+t}]{fsize}{, }\item[{\mbox{\hyperlink{structSafeStr}{Safe\+Str}}}]{fname}{}\end{DoxyParamCaption})}



Puts file data on the server. 

\Hypertarget{meta-data_8c_aabbe41694059424e83f0a139fa7a6e3c}\index{meta-\/data.c@{meta-\/data.c}!reg@{reg}}
\index{reg@{reg}!meta-\/data.c@{meta-\/data.c}}
\doxysubsubsection{\texorpdfstring{reg()}{reg()}}
{\footnotesize\ttfamily \label{meta-data_8c_aabbe41694059424e83f0a139fa7a6e3c} 
void reg (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{unionIPv4}{IPv4}}}]{address}{, }\item[{\mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}}]{port}{}\end{DoxyParamCaption})}



Registers a data node. 

