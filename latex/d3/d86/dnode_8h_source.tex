\doxysection{dnode.\+h}
\hypertarget{dnode_8h_source}{}\label{dnode_8h_source}\index{src/lib/dnode.h@{src/lib/dnode.h}}
\mbox{\hyperlink{dnode_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ lib/dnode.h}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ These\ are\ the\ data\ nodes\ that\ the\ DFS\ uses.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ DNODE\_H\_}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ DNODE\_H\_}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00010\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Includes\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lib_8h}{lib.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{list_8h}{list.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uuid_8h}{uuid.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{enchufe_8h}{enchufe.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{comment}{/*\ -\/-\/-\/-\/\ Macros\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ DNODE\_TABLE\ "{}data/dnode.bin"{}}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Types\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00028\ \ \ \ \ \mbox{\hyperlink{structUUID}{UUID}}\ \mbox{\hyperlink{structDNode_a934b76ecefbee51e725e8672aa43b14d}{nid}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{unionIPv4}{IPv4}}\ \mbox{\hyperlink{structDNode_aee65293a83284c36336db34975b011c3}{address}};\ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ \mbox{\hyperlink{structDNode_a22476d854e1e770d764d25539017e094}{port}};\ \ \ \ \ \ }
\DoxyCodeLine{00031\ \}\ \mbox{\hyperlink{structDNode}{DNode}};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{structDNode}{DNode}}\ \mbox{\hyperlink{structDNodeInfo_a1a787437f0c4838c4d3b43e38f951fdc}{dnode}};\ \ }
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{structUUID}{UUID}}\ \mbox{\hyperlink{structDNodeInfo_a7c83141425b62cfde87052d6b6d35501}{cid}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structDNodeInfo_a1cf97c570031e1701fae761b37f59195}{seq}};\ \ \ \ \ \ }
\DoxyCodeLine{00039\ \}\ \mbox{\hyperlink{structDNodeInfo}{DNodeInfo}};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Functions\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{//\ Define\ List\ for\ data\ nodes}}
\DoxyCodeLine{00045\ \mbox{\hyperlink{list_8h_a605ccd00e83e8a83e9c481ae89706597}{DefList}}(\mbox{\hyperlink{structDNode}{DNode}})}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{//\ Define\ List\ for\ data\ node\ infos}}
\DoxyCodeLine{00048\ \mbox{\hyperlink{list_8h_a605ccd00e83e8a83e9c481ae89706597}{DefList}}(\mbox{\hyperlink{structDNodeInfo}{DNodeInfo}})}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00055\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{dnode_8c_a03c90bd0be809c5e67fcb43ac06bac44}{DNode\_serialize}}(\mbox{\hyperlink{structDNode}{DNode}}\ dnode);}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00062\ \mbox{\hyperlink{structDNode}{DNode}}\ \mbox{\hyperlink{dnode_8h_a1a3a52d615f39272481e72d17955dbd7}{DNode\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{dnode_8h_a3b5d95bdbf39297607b1e2810ebf709a}{ListDNode\_serialize}}(ListDNode\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00076\ ListDNode\ \mbox{\hyperlink{dnode_8h_a3927741f58fb34f545d0f067786f3a61}{ListDNode\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{dnode_8h_aa69f97bc96beeba09566a32b90fb454b}{DNodeInfo\_serialize}}(\mbox{\hyperlink{structDNodeInfo}{DNodeInfo}}\ dinfo);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00089\ \mbox{\hyperlink{structDNodeInfo}{DNodeInfo}}\ \mbox{\hyperlink{dnode_8h_ad2556f8ef5b57f0dc3c5a5fd567feab2}{DNodeInfo\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00095\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{dnode_8h_af421e943d9ef02e0ebb7c027e29521c3}{ListDNodeInfo\_serialize}}(ListDNodeInfo\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00102\ ListDNodeInfo\ \mbox{\hyperlink{dnode_8h_a6885ceb7c1568e67a146199429cee8a1}{ListDNodeInfo\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00108\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{dnode_8h_aacb4971a9663c6bf602f184077214974}{insert\_into\_dnode}}(\mbox{\hyperlink{unionIPv4}{IPv4}}\ address,\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ port);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00116\ ListDNode\ \mbox{\hyperlink{dnode_8h_a86907d137461fe03a120c7246e055752}{select\_from\_dnode}}(\mbox{\hyperlink{structUUID}{UUID}}*\ nid,\ \mbox{\hyperlink{unionIPv4}{IPv4}}*\ address,\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}*\ port);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00121\ ListDNode\ \mbox{\hyperlink{dnode_8h_a895878e600e0cad456042522d38509a4}{DNode\_get\_db}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{dnode_8h_aa56ad7b2df70130079b2027b711a33e9}{DNode\_set\_db}}(ListDNode\ dnodes);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00130\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{dnode_8h_a510edee6c758326517c0935a47b45fd5}{print\_dnode}}(\mbox{\hyperlink{structDNode}{DNode}}\ dnode);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00145\ ListDNodeInfo\ \mbox{\hyperlink{dnode_8h_ab802880fd29ce583effe8bc2874b2d16}{insert}}(ListDNodeInfo\ l,\ \mbox{\hyperlink{structDNodeInfo}{DNodeInfo}}\ a);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00155\ ListDNodeInfo\ \mbox{\hyperlink{dnode_8h_a8428c197c7bd2ecebd908cd8b55d3901}{sort}}(ListDNodeInfo\ l);}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00158\ \}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ DNODE\_H\_}}

\end{DoxyCode}
