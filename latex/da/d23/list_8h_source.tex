\doxysection{list.\+h}
\hypertarget{list_8h_source}{}\label{list_8h_source}\index{src/lib/list.h@{src/lib/list.h}}
\mbox{\hyperlink{list_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ lib/list.h}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Generic\ C\ List\ implementation.}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ For\ more\ info,\ please\ visit:\ https://tangled.org/@stau.space/c-\/list.}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifndef\ LIST\_H\_}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ LIST\_H\_}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00011\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Includes\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lib_8h}{lib.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Types\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{list_8h_a0c872b2b5377622a0056fff4dde83d40}{Opaque}};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{list_8h_a0c872b2b5377622a0056fff4dde83d40}{Opaque}}\ \mbox{\hyperlink{structNodeOpaque_af063a01a16a9b1c93945991845de8607}{head}};\ \ \ \ \ \ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}*\ \mbox{\hyperlink{structNodeOpaque_a6c6c181a7d5710ff7f4b8cebeb27229e}{rest}};\ \ }
\DoxyCodeLine{00027\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}*\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Functions\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00037\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{list_8h_aee614062180456aa1575288c1d49d5c9}{ListOpaque\_deinit}}(\mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00044\ \mbox{\hyperlink{list_8h_a0c872b2b5377622a0056fff4dde83d40}{Opaque}}\ \mbox{\hyperlink{list_8h_ac62fb25336f13051d8228b1b20869bc0}{ListOpaque\_car}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}\ node);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}*\ \mbox{\hyperlink{list_8h_acf88f78d257227d21d7196037922380a}{ListOpaque\_cdr}}(\textcolor{keyword}{struct}\ \mbox{\hyperlink{structNodeOpaque}{NodeOpaque}}\ node);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00061\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{list_8h_a21ce50c0ff4101692631f1892f886188}{ListOpaque\_cons}}(\mbox{\hyperlink{list_8h_a0c872b2b5377622a0056fff4dde83d40}{Opaque}}\ fst,\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00068\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{list_8h_a41aa415f1fa90e41fee81ec7e4f16359}{ListOpaque\_rev}}(\mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}},\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ acc);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00076\ \mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{list_8h_ad4ed0e3b3f346f7304bf7af96f391ec7}{ListOpaque\_reverse}}(\mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{list_8h_a1da6947b16c73dbad26bd460a0e13162}{ListOpaque\_length}}(\mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}});}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00091\ \mbox{\hyperlink{list_8h_a0c872b2b5377622a0056fff4dde83d40}{Opaque}}\ \mbox{\hyperlink{list_8h_a694b5a1d3f8f05d72bb6717d15167845}{ListOpaque\_at}}(\mbox{\hyperlink{list_8h_a0204e4415d9108263d3d986289c659fb}{ListOpaque}}\ \mbox{\hyperlink{meta-data_8c_a2a9555ea13e6b8fd8495995d9e4504f9}{list}},\ \textcolor{keywordtype}{size\_t}\ index);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#define\ DefList(type)\ \(\backslash\)}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{struct\ Node\#\#type\ \{\ \(\backslash\)}}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\ \ \ \ type\ head;\ \(\backslash\)}}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\ \ \ \ struct\ Node\#\#type*\ rest;\ \(\backslash\)}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\};\ \(\backslash\)}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{typedef\ struct\ Node\#\#type*\ List\#\#type;\ \(\backslash\)}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{void\ List\#\#type\#\#\_deinit(List\#\#type\ list);\ \(\backslash\)}}
\DoxyCodeLine{00100\ \textcolor{preprocessor}{type\ List\#\#type\#\#\_car(struct\ Node\#\#type\ node);\ \(\backslash\)}}
\DoxyCodeLine{00101\ \textcolor{preprocessor}{struct\ Node\#\#type*\ List\#\#type\#\#\_cdr(struct\ Node\#\#type\ node);\ \(\backslash\)}}
\DoxyCodeLine{00102\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_cons(type\ a,\ List\#\#type\ list);\ \(\backslash\)}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_rev(List\#\#type\ list,\ List\#\#type\ a);\ \(\backslash\)}}
\DoxyCodeLine{00104\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_reverse(List\#\#type\ list);\ \(\backslash\)}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{size\_t\ List\#\#type\#\#\_length(List\#\#type\ list);\ \(\backslash\)}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{type\ List\#\#type\#\#\_at(List\#\#type\ list,\ size\_t\ index);\ \(\backslash\)}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_drop(List\#\#type\ list,\ size\_t\ n);\ \(\backslash\)}}
\DoxyCodeLine{00108\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_drop(List\#\#type\ list,\ size\_t\ n);}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#define\ ImplList(type)\ \(\backslash\)}}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{void\ List\#\#type\#\#\_deinit(List\#\#type\ list)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ List\#\#type\#\#\_deinit(list-\/>rest);\ \(\backslash\)}}
\DoxyCodeLine{00114\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ free(list);\ \(\backslash\)}}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\ \ \ \ \}\ \(\backslash\)}}
\DoxyCodeLine{00116\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00118\ \textcolor{preprocessor}{type\ List\#\#type\#\#\_car(struct\ Node\#\#type\ node)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\ \ \ \ List\#\#type\#\#\_deinit(node.rest);\ \(\backslash\)}}
\DoxyCodeLine{00120\ \textcolor{preprocessor}{\ \ \ \ return\ node.head;\ \(\backslash\)}}
\DoxyCodeLine{00121\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00123\ \textcolor{preprocessor}{struct\ Node\#\#type*\ List\#\#type\#\#\_cdr(struct\ Node\#\#type\ node)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\ \ \ \ return\ node.rest;\ \(\backslash\)}}
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00126\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00127\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_cons(type\ a,\ List\#\#type\ list)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\ \ \ \ struct\ Node\#\#type*\ node\ =\ (struct\ Node\#\#type*)calloc(1,\ sizeof(struct\ Node\#\#type));\ \(\backslash\)}}
\DoxyCodeLine{00129\ \textcolor{preprocessor}{\ \ \ \ exists(node);\ \(\backslash\)}}
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\ \ \ \ *node\ =\ (struct\ Node\#\#type)\{\ .head\ =\ a,\ .rest\ =\ list\ \};\ \(\backslash\)}}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\ \ \ \ return\ (List\#\#type)node;\ \(\backslash\)}}
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00133\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00134\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_rev(List\#\#type\ list,\ List\#\#type\ a)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00136\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ List\#\#type\ out\ =\ List\#\#type\#\#\_rev(list-\/>rest,\ List\#\#type\#\#\_cons(list-\/>head,\ a));\ \(\backslash\)}}
\DoxyCodeLine{00137\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ free(list);\ \(\backslash\)}}
\DoxyCodeLine{00138\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ out;\ \(\backslash\)}}
\DoxyCodeLine{00139\ \textcolor{preprocessor}{\ \ \ \ \}\ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ a;\ \(\backslash\)}}
\DoxyCodeLine{00140\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_reverse(List\#\#type\ list)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\ \ \ \ return\ List\#\#type\#\#\_rev(list,\ NULL);\ \(\backslash\)}}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00146\ \textcolor{preprocessor}{size\_t\ List\#\#type\#\#\_length(List\#\#type\ list)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ return\ List\#\#type\#\#\_length(list-\/>rest)\ +\ 1;\ \(\backslash\)}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ 0;\ \(\backslash\)}}
\DoxyCodeLine{00149\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{type\ List\#\#type\#\#\_at(List\#\#type\ list,\ size\_t\ index)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00152\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ return\ index\ ==\ 1\ ?\ list-\/>head\ :\ List\#\#type\#\#\_at(list-\/>rest,\ index\ -\/\ 1);\ \(\backslash\)}}
\DoxyCodeLine{00153\ \textcolor{preprocessor}{\ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ exists(NULL);\ \(\backslash\)}}
\DoxyCodeLine{00154\ \textcolor{preprocessor}{\ \ \ \ return\ (type)\{0\};\ \(\backslash\)}}
\DoxyCodeLine{00155\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00157\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_take(List\#\#type\ list,\ size\_t\ n)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00159\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ if\ (n\ !=\ 0)\ \(\backslash\)}}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ return\ List\#\#type\#\#\_cons(list-\/>head,\ List\#\#type\#\#\_take(list-\/>rest,\ n\ -\/\ 1));\ \(\backslash\)}}
\DoxyCodeLine{00161\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ else\ \{\ \(\backslash\)}}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ List\#\#type\#\#\_deinit(list-\/>rest);\ \(\backslash\)}}
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ return\ NULL;\ \(\backslash\)}}
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \}\ \(\backslash\)}}
\DoxyCodeLine{00165\ \textcolor{preprocessor}{\ \ \ \ \}\ else\ \{\ \(\backslash\)}}
\DoxyCodeLine{00166\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ log(FATAL,\ "{}Took\ too\ many\ elements\ from\ List\(\backslash\)n"{});\ \(\backslash\)}}
\DoxyCodeLine{00167\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ exit(1);\ \(\backslash\)}}
\DoxyCodeLine{00168\ \textcolor{preprocessor}{\ \ \ \ \}\ \(\backslash\)}}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00170\ \textcolor{preprocessor}{\ \(\backslash\)}}
\DoxyCodeLine{00171\ \textcolor{preprocessor}{List\#\#type\ List\#\#type\#\#\_drop(List\#\#type\ list,\ size\_t\ n)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00172\ \textcolor{preprocessor}{\ \ \ \ if\ (list\ !=\ NULL)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00173\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ if\ (n\ !=\ 0)\ \{\ \(\backslash\)}}
\DoxyCodeLine{00174\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ List\#\#type\ kod\ =\ list;\ \(\backslash\)}}
\DoxyCodeLine{00175\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ list\ =\ list-\/>\ rest;\ \(\backslash\)}}
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ free(kod);\ \(\backslash\)}}
\DoxyCodeLine{00177\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ return\ List\#\#type\#\#\_take(list,\ n\ -\/\ 1);\ \(\backslash\)}}
\DoxyCodeLine{00178\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \}\ else\ \(\backslash\)}}
\DoxyCodeLine{00179\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ return\ list-\/>rest;\ \(\backslash\)}}
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\ \ \ \ \}\ else\ \{\ \(\backslash\)}}
\DoxyCodeLine{00181\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ log(FATAL,\ "{}Took\ too\ many\ elements\ from\ List\(\backslash\)n"{});\ \(\backslash\)}}
\DoxyCodeLine{00182\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ exit(1);\ \(\backslash\)}}
\DoxyCodeLine{00183\ \textcolor{preprocessor}{\ \ \ \ \}\ \(\backslash\)}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\}\ \(\backslash\)}}
\DoxyCodeLine{00185\ \textcolor{preprocessor}{}}
\DoxyCodeLine{00186\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00187\ \}}
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ LIST\_H\_}}

\end{DoxyCode}
