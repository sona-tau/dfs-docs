\doxysection{enchufe.\+h}
\hypertarget{enchufe_8h_source}{}\label{enchufe_8h_source}\index{src/lib/enchufe.h@{src/lib/enchufe.h}}
\mbox{\hyperlink{enchufe_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ lib/enchufe.h}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ ¡Esta\ es\ la\ librería\ de\ Enchufe!}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ ENCHUFE\_H\_}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ ENCHUFE\_H\_}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00010\ \textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \{}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Includes\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <netinet/in.h>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <sys/socket.h>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{lib_8h}{lib.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uuid_8h}{uuid.h}}"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Types\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{enchufe_8h_a6e1bd132ef1bf56639a7077459ed0ab3}{FD}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{typedef}\ uint16\_t\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{lib_8h_a7ae8f3766c8853286755f4ec0903c6f0}{Byte}}\ \mbox{\hyperlink{unionIPv4_a6bdf7c7dc3dc17bb9f355833821a025e}{bytes}}[4];\ }
\DoxyCodeLine{00035\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{unionIPv4_a7723d6cb1c180b0399e30f141e9d715d}{ip}};\ \ }
\DoxyCodeLine{00036\ \}\ \mbox{\hyperlink{unionIPv4}{IPv4}};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{enchufe_8h_a6e1bd132ef1bf56639a7077459ed0ab3}{FD}}\ \mbox{\hyperlink{structEnchufe_abc4507ebdf7bb699ee785926b94a93e6}{fd}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{struct\ }sockaddr\_in\ \mbox{\hyperlink{structEnchufe_a6a7f676230a1547ea0560c7146962c19}{addr}};\ \ \ \ }
\DoxyCodeLine{00042\ \ \ \ \ socklen\_t\ \mbox{\hyperlink{structEnchufe_aabd1869440194b0ce5298458500beb13}{addrlen}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00043\ \}\ \mbox{\hyperlink{structEnchufe}{Enchufe}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{struct\ }sockaddr\_in\ \mbox{\hyperlink{structReceptaculo_ae6250aeeb13505f77dacb722fe9bef94}{addr}};\ \ \ \ }
\DoxyCodeLine{00048\ \ \ \ \ socklen\_t\ \mbox{\hyperlink{structReceptaculo_a95027f8e67dbe1b6dbae1ebfc4599cb3}{addrlen}};\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00049\ \}\ \mbox{\hyperlink{structReceptaculo}{Receptaculo}};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083}{Tag}}\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083aa69e3fc4950d308546f29ec346a286a1}{ACK}},}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083a88ee88af2f7364ff00ef949dfb8fdf40}{REG}},}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083a1952a1f32ffda4bee666bd3bc0f14748}{LIST}},}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083a62e15cadd36a9682b4fb4960a6fa5727}{GET}},}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083a3b84790d6c9a622eb4e5c1b9db4edcf9}{PUT}},}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083af800a9e36a5533e17047749eacfa2343}{WRITE}},}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structCommand_a536de2c275a19793436c52697b398083a64439c442cdaaa28bcd0ebc6781be8ee}{READ}},}
\DoxyCodeLine{00061\ \ \ \ \ \}\ tag\ ;\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{unionIPv4}{IPv4}}\ \mbox{\hyperlink{structCommand_a5ebddfd6e8d39366d76bee55f3afca9a}{address}};\ \ \ \ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ \mbox{\hyperlink{structCommand_a2a030b00cd2b4d33cd335f692451d389}{port}};\ \ \ \ \ \ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{meta-data_8c_aabbe41694059424e83f0a139fa7a6e3c}{reg}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structSafeStr}{SafeStr}}\ \mbox{\hyperlink{structCommand_a39d5dfa8019823bdc5d9e0a192ec9ca0}{fname}};\ \ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{meta-data_8c_a627ccb887dd92e262615f15c0dc4d235}{get}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structCommand_a7cba9e025d6432b00d628fb6701b8346}{fsize}};\ \ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structSafeStr}{SafeStr}}\ \mbox{\hyperlink{structCommand_a39d5dfa8019823bdc5d9e0a192ec9ca0}{fname}};\ \ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \}\ \mbox{\hyperlink{meta-data_8c_a031f559c7c9f21572ac4c56fdc51bf93}{put}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structCommand_acfea316914ea2d3570032776bba79314}{nbytes}};\ \ \ \ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \}\ write;\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structUUID}{UUID}}\ \mbox{\hyperlink{structCommand_a9c0e05f547adf8089bec19df433ed0da}{cid}};\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \}\ read;\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00080\ \ \ \ \ \}\ as\ ;\ \ }
\DoxyCodeLine{00081\ \}\ \mbox{\hyperlink{structCommand}{Command}};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/\ Functions\ -\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00089\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{enchufe_8h_a912a7b5868ecf198d31625bb5fca110c}{IPv4\_serialize}}(\mbox{\hyperlink{unionIPv4}{IPv4}}\ ip);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00095\ \mbox{\hyperlink{unionIPv4}{IPv4}}\ \mbox{\hyperlink{enchufe_8h_a9455f208539ce7a689ffd06224d25e45}{IPv4\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00099\ \mbox{\hyperlink{enchufe_8h_a6e1bd132ef1bf56639a7077459ed0ab3}{FD}}\ \mbox{\hyperlink{enchufe_8h_a8d1ece5dee971962ce3cffb88b5b136f}{nuevo}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00105\ \mbox{\hyperlink{structReceptaculo}{Receptaculo}}\ \mbox{\hyperlink{enchufe_8h_a88c545b94d3e0fef41d3dafcc29642d4}{receptaculo}}(\mbox{\hyperlink{unionIPv4}{IPv4}}\ ip,\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ port);}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00114\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structEnchufe}{Enchufe}}\ \mbox{\hyperlink{enchufe_8h_a0b170e0f084c66f9093838e37c121ced}{aplasta}}(\mbox{\hyperlink{enchufe_8h_a6e1bd132ef1bf56639a7077459ed0ab3}{FD}}\ fd,\ \mbox{\hyperlink{structReceptaculo}{Receptaculo}}\ rec)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structEnchufe}{Enchufe}})\{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ .fd\ =\ fd,}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ .addr\ =\ rec.\mbox{\hyperlink{structReceptaculo_ae6250aeeb13505f77dacb722fe9bef94}{addr}},}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ .addrlen\ =\ rec.\mbox{\hyperlink{structReceptaculo_a95027f8e67dbe1b6dbae1ebfc4599cb3}{addrlen}},}
\DoxyCodeLine{00119\ \ \ \ \ \};}
\DoxyCodeLine{00120\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00127\ \mbox{\hyperlink{structEnchufe}{Enchufe}}\ \mbox{\hyperlink{enchufe_8h_af3e6d74a40ce71d612e06716a267c924}{enchufa}}(\mbox{\hyperlink{unionIPv4}{IPv4}}\ ip,\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ port);}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00132\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{enchufe_8h_ae8ed15579b020427e2fd68d93af4b529}{conecta}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe);}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00141\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{enchufe_8h_a6642b16ae961e1c16cee8ed1fe9bbba4}{amarra}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00149\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{enchufe_8h_aa2cc7f352d32592a8548dba9c795029e}{escucha}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe,\ \textcolor{keywordtype}{size\_t}\ len);}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00157\ \mbox{\hyperlink{structEnchufe}{Enchufe}}\ \mbox{\hyperlink{enchufe_8h_af9ae90a3734b21c214b3ce202053980d}{acepta}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00163\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{enchufe_8h_a9be5a252b1632bdba16594be1123533d}{zumba}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe,\ \mbox{\hyperlink{structBuffer}{Buffer}}\ in\_buf);}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00172\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{enchufe_8h_a7e7754a5822f6e3d2e8ae0d45330c4a7}{recibe}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe,\ \mbox{\hyperlink{structBuffer}{Buffer}}\ out\_buf);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00177\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{enchufe_8h_a0ddaa5be968335c24e72f3be526daedc}{desenchufa}}(\mbox{\hyperlink{structEnchufe}{Enchufe}}\ enchufe);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00184\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{enchufe_8h_a44e8c8b9a3db08661582fedb4e7a5194}{Port\_serialize}}(\mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ port);}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00190\ \mbox{\hyperlink{enchufe_8h_aebfc8a43171a8d87a23423fb4725bea4}{Port}}\ \mbox{\hyperlink{enchufe_8h_ae06857c2cf3554e44f3e2455d8c483f7}{Port\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00196\ \mbox{\hyperlink{unionIPv4}{IPv4}}\ \mbox{\hyperlink{enchufe_8h_a29c5913c133e5dbc96ea557f30606e27}{parse\_address}}(\mbox{\hyperlink{lib_8h_a081d1c707b153da230e84f2d7ca93ef3}{Str}}\ str);}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00202\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{enchufe_8h_a4b5b8fc12d8b76c4bb62547bad91b03b}{Command\_serialize}}(\mbox{\hyperlink{structCommand}{Command}}\ command);}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00208\ \mbox{\hyperlink{structCommand}{Command}}\ \mbox{\hyperlink{enchufe_8h_a276a383b0e217ae68c598d0f4eafb91f}{Command\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00214\ \mbox{\hyperlink{structBuffer}{Buffer}}\ \mbox{\hyperlink{enchufe_8h_a255b3cdb8bf360108352e244b93c176c}{Tag\_serialize}}(\textcolor{keyword}{enum}\ Tag\ tag);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00220\ \textcolor{keyword}{enum}\ Tag\ \mbox{\hyperlink{enchufe_8h_a51a440f5213290ad4fd5e0c8a028f25d}{Tag\_deserialize}}(\mbox{\hyperlink{structBuffer}{Buffer}}\ buf);}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00225\ \}}
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ENCHUFE\_H\_\ header}}

\end{DoxyCode}
